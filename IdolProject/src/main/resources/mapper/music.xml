<?xml version="1.0" encoding="UTF-8"?>



<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.idol.model.MusicDAO">
  
  <!-- 곡에 대한 정보 가져오기 -->
  <select id="musicCont" resultType="musicDTO" parameterType="int">
         select * from music where music_no = #{no}
  </select>

  	<select id="musicList_group" parameterType="String" resultType="musicDTO">
		select * from music where group_name = #{group} order by music_release_date desc, music_no asc
	</select>
	
	<select id="musicList_solo" parameterType="String" resultType="musicDTO">
		select * from music where celeb_name = #{name} order by music_release_date desc, music_no asc
	</select>
	
	
	
	  <select id="mainAllList" resultType="musicDTO">
  	select *
	from(
    select a.*,
    row_number() over(order by a.music_release_date desc) rnum
    from(
        select distinct m.music_aname, m.music_coverimage, m.music_release_date
        from music m
        ) a
    )
	<![CDATA[where rnum >= 1 and rnum <= 10;]]>
  </select>
	
  </mapper>